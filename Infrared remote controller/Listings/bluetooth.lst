C51 COMPILER V9.00   BLUETOOTH                                                             04/08/2017 00:23:15 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE BLUETOOTH
OBJECT MODULE PLACED IN .\Objects\bluetooth.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE module\bluetooth.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\include;.\common;.\
                    -module) DEFINE(FOSC_160000) DEBUG OBJECTEXTEND PRINT(.\Listings\bluetooth.lst) OBJECT(.\Objects\bluetooth.obj)

line level    source

   1          #include        "bluetooth.h"
   2          
   3          void    Bluetooth_process(void)
   4          {
   5   1              UINT8   i=0,count=0,CMD=0;
   6   1              __delay_ms(1);
   7   1              if(CMD_PLAY)
   8   1              {
   9   2                      do
  10   2                      {
  11   3                              __delay_ms(1);
  12   3                              count++;
  13   3                      }while(CMD_PLAY);
  14   2                      if(count>20)
  15   2                      {
  16   3                              CMD=__PLAY;     
  17   3                              count=0;
  18   3                              Bluetooth_CMD(CMD);
  19   3                      }
  20   2              }
  21   1              if(CMD_REV)
  22   1              {
  23   2                      do
  24   2                      {
  25   3                              __delay_ms(1);
  26   3                              count++;
  27   3                      }while(CMD_REV);
  28   2                      if(count>20)
  29   2                      {
  30   3                              CMD=__REV;
  31   3                              count=0;
  32   3                              Bluetooth_CMD(CMD);
  33   3                      }
  34   2              }
  35   1              if(CMD_FWD)
  36   1              {
  37   2                      do
  38   2                      {
  39   3                              __delay_ms(1);
  40   3                              count++;
  41   3                      }while(CMD_FWD);
  42   2                      if(count>20)
  43   2                      {
  44   3                              CMD=__FWD;
  45   3                              count=0;
  46   3                              Bluetooth_CMD(CMD);
  47   3                      }
  48   2              }
  49   1              if(CMD_VOL_UP)
  50   1              {
  51   2                      do
  52   2                      {
  53   3                              __delay_ms(1);
  54   3                              count++;
C51 COMPILER V9.00   BLUETOOTH                                                             04/08/2017 00:23:15 PAGE 2   

  55   3                      }while(CMD_VOL_UP);
  56   2                      if(count>20)
  57   2                      {
  58   3                              CMD=__VOL_UP;
  59   3                              count=0;
  60   3                              Bluetooth_CMD(CMD);
  61   3                      }
  62   2              }
  63   1              if(CMD_VOL_DOWN)
  64   1              {
  65   2                      do
  66   2                      {
  67   3                              __delay_ms(1);
  68   3                              count++;
  69   3                      }while(CMD_VOL_DOWN);
  70   2                      if(count>20)
  71   2                      {
  72   3                              CMD=__VOL_DOWN;
  73   3                              count=0;
  74   3                              Bluetooth_CMD(CMD);
  75   3                      }
  76   2              }
  77   1              if(CMD_PAIR)
  78   1              {
  79   2                      do
  80   2                      {
  81   3                              __delay_ms(1);
  82   3                              count++;
  83   3                      }while(CMD_PAIR);
  84   2                      if(count>20)
  85   2                      {
  86   3                              CMD=__PAIR;
  87   3                              count=0;
  88   3                              Bluetooth_CMD(CMD);
  89   3                      }
  90   2              }       
  91   1      
  92   1      }
  93          
  94          void    Bluetooth_CMD(UINT8     cmd)
  95          {
  96   1              switch(cmd)
  97   1              {
  98   2                      case    __PLAY:
  99   2                              PLAY = 1;
 100   2                              __delay_ms(25);
 101   2                              PLAY = 0;
 102   2                              break;
 103   2                      case    __REV:
 104   2                              REV = 1;
 105   2                              __delay_ms(25);
 106   2                              REV = 0;
 107   2                              break;
 108   2                      case    __FWD:
 109   2                              FWD = 1;
 110   2                              __delay_ms(25);
 111   2                              FWD = 0;
 112   2                              break;
 113   2                      case    __VOL_UP:
 114   2                              VOL_UP = 1;
 115   2                              P00 = 1;
 116   2                              __delay_ms(25);
C51 COMPILER V9.00   BLUETOOTH                                                             04/08/2017 00:23:15 PAGE 3   

 117   2                              P00 = 0;
 118   2                              //while(1);
 119   2                              break;
 120   2                      case    __VOL_DOWN:
 121   2                              VOL_DOWN = 1;
 122   2                              P01 = 1;
 123   2                              __delay_ms(25);
 124   2                              P01 = 0;
 125   2                              //while(1);
 126   2                              break;
 127   2                      case    __PAIR:
 128   2                              PAIR = 1;
 129   2                              __delay_ms(25);
 130   2                              PAIR = 0;
 131   2                              break;
 132   2                      default:
 133   2                              break;
 134   2              }
 135   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    356    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
